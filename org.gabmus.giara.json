{
    "app-id": "org.gabmus.giara",
    "command": "giara",
    "runtime": "org.gnome.Platform",
    "runtime-version": "3.38",
    "sdk": "org.gnome.Sdk",
    "finish-args": [
        "--device=dri",
        "--share=ipc",
        "--socket=fallback-x11",
        "--socket=wayland",
        "--filesystem=home:ro",
        "--share=network"
    ],
    "add-extensions": {
        "org.freedesktop.Platform.ffmpeg-full": {
            "directory": "lib/ffmpeg",
            "version": "20.08",
            "add-ld-path": ".",
            "no-autodownload": true,
            "autodelete": false
        }
    },
    "modules": [
        {
            "name": "libhandy",
            "buildsystem": "meson",
            "config-opts": [
                "-Dglade_catalog=disabled",
                "-Dtests=false",
                "-Dexamples=false"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://gitlab.gnome.org/GNOME/libhandy",
                    "tag": "1.0.0"
                }
            ]
        },
        {
            "name": "python-setuptools-scm",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "pwd",
                "ls",
                "python3 setup.py build",
                "python3 setup.py egg_info",
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/pypa/setuptools_scm",
                    "tag": "v4.1.2"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-dateutil",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/ --optimize=1"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/dateutil/dateutil",
                    "tag": "2.8.1",
                    "commit": "fc9b1625ebc729f01e449879b6b140abd12ae621"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-idna",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/kjd/idna",
                    "tag": "v2.10"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-certifi",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/certifi/python-certifi",
                    "tag": "2020.06.20"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-chardet",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/chardet/chardet",
                    "tag": "3.0.4",
                    "commit": "9b8c5c2fb118d76c6beeab9affd01c332732a530"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-urllib3",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/urllib3/urllib3",
                    "tag": "1.25.10"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-requests",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/psf/requests/archive/v2.24.0.tar.gz",
                    "sha256": "904e9a2bd22e98e444f5b23f80fa3fb8dda5d1e81d0f87d9ee56af2e15f73862"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-markupsafe",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/pallets/markupsafe",
                    "tag": "1.1.1"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-jinja2",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/pallets/jinja",
                    "tag": "2.11.2"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-mistune",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/lepture/mistune",
                    "tag": "v0.8.4"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-pillow",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/python-pillow/Pillow",
                    "tag": "7.2.0"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-websocket-client",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/websocket-client/websocket-client",
                    "tag": "v0.57.0"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-prawcore",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/praw-dev/prawcore",
                    "tag": "v1.5.0"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-praw",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/praw-dev/praw",
                    "tag": "v7.1.0"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-click",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/pallets/click",
                    "tag": "7.1.2"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-itsdangerous",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/pallets/itsdangerous",
                    "tag": "1.1.0"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-werkzeug",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/pallets/werkzeug/archive/1.0.1.tar.gz",
                    "sha256": "5de48c138e85c128c0bd80b7dd555a5cba2f9dd4785616bccceab268d7955a2c"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-flask",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/pallets/flask/archive/1.1.2.tar.gz",
                    "sha256": "6da812f0fb52ad1ccfb5b3868b1dd20e420cc6e77379c2a4ecbaccd3eceb8923"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "python-beautifulsoup",
            "buildsystem": "simple",
            "ensure-writable": [
                "/lib/python*/site-packages/easy-install.pth",
                "/lib/python*/site-packages/setuptools.pth",
                "/app/lib/python*/site-packages/easy-install.pth",
                "/app/lib/python*/site-packages/setuptools.pth"
            ],
            "build-commands": [
                "python3 setup.py install --prefix=/app --root=/"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/c6/62/8a2bef01214eeaa5a4489eca7104e152968729512ee33cb5fbbc37a896b7/beautifulsoup4-4.9.1.tar.gz",
                    "sha256": "73cc4d115b96f79c7d77c1c7f7a0a8d4c57860d1041df407dd1aae7f07a77fd7"
                },
                {
                    "type": "shell",
                    "commands": [
                        "sed -i 's/if not platform_/if not dirs/' setup.py"
                    ]
                }
            ]
        },
        {
            "name": "giara",
            "buildsystem": "meson",
            "builddir": true,
            "config-opts": [
                "--buildtype=release"
            ],
            "sources": [
                {
                    "type": "git",
                    "url": "https://gitlab.gnome.org/GabMus/giara",
                    "tag": "0.1"
                }
            ]
        }
    ]
}
